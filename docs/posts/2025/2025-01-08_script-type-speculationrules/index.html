<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Speculation Rules 사이트 로딩 속도 개선하기 · It news
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="News reporter">
<meta name="description" content="웹 성능은 사용자 경험(UX)을 결정짓는 핵심 요소 중 하나입니다. 사용자가 페이지에서 다른 페이지로 이동할 때 추가적인 로딩 지연 없이 빠르게 전환할 수 있다면, 더 높은 만족도가 보장됩니다.">
<meta name="keywords" content="blog,developer,AI,it">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Speculation Rules 사이트 로딩 속도 개선하기">
  <meta name="twitter:description" content="웹 성능은 사용자 경험(UX)을 결정짓는 핵심 요소 중 하나입니다. 사용자가 페이지에서 다른 페이지로 이동할 때 추가적인 로딩 지연 없이 빠르게 전환할 수 있다면, 더 높은 만족도가 보장됩니다.">

<meta property="og:url" content="http://localhost:1313/posts/2025/2025-01-08_script-type-speculationrules/">
  <meta property="og:site_name" content="It news">
  <meta property="og:title" content="Speculation Rules 사이트 로딩 속도 개선하기">
  <meta property="og:description" content="웹 성능은 사용자 경험(UX)을 결정짓는 핵심 요소 중 하나입니다. 사용자가 페이지에서 다른 페이지로 이동할 때 추가적인 로딩 지연 없이 빠르게 전환할 수 있다면, 더 높은 만족도가 보장됩니다.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-08T11:13:22+09:00">
    <meta property="article:modified_time" content="2025-01-08T11:13:22+09:00">
    <meta property="article:tag" content="Html">
    <meta property="article:tag" content="Javascript">




<link rel="canonical" href="http://localhost:1313/posts/2025/2025-01-08_script-type-speculationrules/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      It news
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/2025/2025-01-08_script-type-speculationrules/">
              Speculation Rules 사이트 로딩 속도 개선하기
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2025-01-08T11:13:22&#43;09:00">
                January 8, 2025
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/web/">Web</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/html/">Html</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/javascript/">Javascript</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>웹 성능은 사용자 경험(UX)을 결정짓는 핵심 요소 중 하나입니다. 사용자가 페이지에서 다른 페이지로 이동할 때 추가적인 로딩 지연 없이 빠르게 전환할 수 있다면, 더 높은 만족도가 보장됩니다.</p>
<p>구글 크롬을 중심으로 제안된 Speculation Rules는 브라우저가 사용자 행동을 예상하여 사전에 리소스를 로드해 두는 새로운 방식으로, 향상된 UX를 제공합니다.</p>
<p>이번 글에서는 보다 자세하게 Speculation Rules의 개념과 활용 방법, 주의 사항 등을 단계별로 살펴보겠습니다.</p>
<h2 id="1-speculation-rules란">
  1. Speculation Rules란?
  <a class="heading-link" href="#1-speculation-rules%eb%9e%80">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Speculation Rules는 브라우저가 미래에 사용자가 페이지나 리소스를 요청할 가능성이 높다고 판단되는 경우, 해당 리소스를 미리 가져오거나(prefetch) 심지어 완전히 렌더링(prerender)하여 준비해 두는 기술입니다.<br>
대표적인 예로, 사용자가 A 페이지에서 B 페이지로 이동할 것이 거의 확실한 상황에서는 브라우저가 B 페이지를 사전에 로드해둡니다. 사용자가 실제로 B 페이지를 클릭하는 시점에는 이미 모든 데이터가 준비되어 있어, 즉시 표시가 가능합니다.</p>
<h3 id="기존-기법과-차이점">
  기존 기법과 차이점
  <a class="heading-link" href="#%ea%b8%b0%ec%a1%b4-%ea%b8%b0%eb%b2%95%ea%b3%bc-%ec%b0%a8%ec%9d%b4%ec%a0%90">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><strong>Resource Hint (prefetch, preload)</strong><br>
HTML <link rel="prefetch"> 같은 리소스 힌트(Resource Hint)는 요청을 미리 가져오도록 브라우저에 알리는 역할을 합니다. 다만, 개별 리소스 단위로 적용하고, 더 세밀한 제어는 어렵습니다.</p>
</li>
<li>
<p><strong>Speculation Rules</strong></p>
<p>JSON 형태의 규칙 집합을 통해 브라우저가 보다 총체적(페이 로드 단위)인 관점에서 ‘이러이러한 상황에서 해당 페이지(혹은 리소스)를 미리 로드하라’고 명시합니다.<br>
자바스크립트와 DOM에서 얻은 정보를 기반으로 클릭 가능성 등을 종합적으로 분석하므로, 더 정교한 사전 로드가 가능합니다.</p>
</li>
</ul>
<h2 id="2-script-typespeculationrules-개요">
  2. &lt;script type=&ldquo;speculationrules&rdquo;&gt; 개요
  <a class="heading-link" href="#2-script-typespeculationrules-%ea%b0%9c%ec%9a%94">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Speculation Rules는 다음과 같은 형태로 작성합니다:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;speculationrules&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;prefetch&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;source&#34;</span><span class="o">:</span> <span class="s2">&#34;list&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;urls&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;/users&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;/info&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;prerender&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;source&#34;</span><span class="o">:</span> <span class="s2">&#34;list&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;urls&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;/main&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong><code>type=&quot;speculationrules&quot;</code></strong>: JSON 형식의 규칙을 가진 스크립트 파일임을 브라우저에게 알림</li>
<li><strong>prefetch</strong>: 브라우저가 리소스를 미리 가져오기만 하고, 렌더링은 하지 않음</li>
<li><strong>prerender</strong>: 브라우저가 페이지를 뒤에서 완전히 렌더링까지 완료해 둠</li>
</ul>
<h3 id="json-구조-설명">
  JSON 구조 설명
  <a class="heading-link" href="#json-%ea%b5%ac%ec%a1%b0-%ec%84%a4%eb%aa%85">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong>prefetch</strong>: 해당 리소스를 미리 다운로드하여 네트워크 지연을 최소화 (렌더링은 하지 않음)</li>
<li><strong>prerender</strong>: 페이지 전체를 미리 불러온 뒤 메모리에 로드된 상태로 대기시켜, 사용자가 이동할 때 즉각적으로 표시</li>
<li><strong>source</strong>: <code>&quot;list&quot;</code> 외에 <code>&quot;document&quot;</code> 등 다양한 타입이 있을 수 있으며, 이 값에 따라 브라우저가 어떤 방식으로 URL을 해석할지 결정</li>
<li><strong>urls</strong>: 실제로 미리 처리할 대상 URL 배열</li>
<li><strong>eagerness</strong>: 브라우저가 Speculation Rules를 얼마나 공격적으로 적용할지를 설정 (예: <code>&quot;conservative&quot;</code>, <code>&quot;eager&quot;</code>)</li>
</ul>
<h2 id="3-speculation-rules-동작-원리">
  3. Speculation Rules 동작 원리
  <a class="heading-link" href="#3-speculation-rules-%eb%8f%99%ec%9e%91-%ec%9b%90%eb%a6%ac">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ol>
<li>
<p><strong>브라우저 파싱</strong><br>
브라우저가 HTML 문서를 파싱하며 speculationrules 스크립트를 만나면, 내부의 JSON을 분석합니다.</p>
</li>
<li>
<p><strong>규칙 적용</strong><br>
JSON의 prefetch, prerender, eagerness 설정에 따라 해당 URL들을 우선순위 큐에 등록합니다.</p>
</li>
<li>
<p><strong>사전 로드(조건부)</strong></p>
<ul>
<li>브라우저는 네트워크 상황, 메모리 상황, CPU 리소스 등을 고려하여 과도한 사전 로드를 막으려 할 수 있습니다.</li>
<li>사용자가 예상 경로를 벗어날 경우에는 해당 사전 로드가 무의미할 수 있음.</li>
</ul>
</li>
<li>
<p><strong>UX 개선</strong><br>
실제로 사용자가 사전에 로드된 리소스나 페이지를 요청하면, 이미 브라우저 캐싱 또는 메모리에 준비된 상태이므로 지연 시간이 거의 들지 않습니다.</p>
</li>
<li>
<p>Speculation Rules 설정 옵션</p>
</li>
</ol>
<h3 id="prerender-옵션">
  prerender 옵션
  <a class="heading-link" href="#prerender-%ec%98%b5%ec%85%98">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;prerender&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;source&#34;</span><span class="p">:</span> <span class="s2">&#34;list&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;urls&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;https://example.com/next-page&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ul>
<li><strong><code>source: &quot;list&quot;</code></strong>: 단순히 사전에 선언한 URL만을 prerender 대상으로 지정</li>
<li><strong>활용 상황</strong>: 다음 단계로 넘어갈 URL을 이미 파악하고 있거나, ‘다음 버튼’과 같이 사용자가 누를 확률이 매우 높은 경우</li>
</ul>
<h3 id="prefetch-옵션">
  prefetch 옵션
  <a class="heading-link" href="#prefetch-%ec%98%b5%ec%85%98">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;prefetch&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;source&#34;</span><span class="p">:</span> <span class="s2">&#34;list&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;urls&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;https://example.com/assets/images/banner.jpg&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ul>
<li><strong><code>prefetch</code></strong>: 큰 이미지, JS, CSS 파일 등 다음 페이지 로딩에 필요한 리소스를 미리 다운받아 둘 때 사용</li>
<li><strong>주의점</strong>: 너무 많은 리소스를 무분별하게 prefetch하면, 자원 낭비와 네트워크 혼잡이 발생할 수 있음</li>
</ul>
<h3 id="eagerness-옵션">
  eagerness 옵션
  <a class="heading-link" href="#eagerness-%ec%98%b5%ec%85%98">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong><code>eagerness</code></strong>: 이 옵션은 사전 로드의 “공격성”을 조절하며, 주요 값은 다음과 같습니다:
<ul>
<li><code>&quot;immediate&quot;</code> : 프리패치와 프리랜더를 가능한 한 빠르게 가져옴</li>
<li><code>&quot;conservative&quot;</code>: 리소스 소모를 최소화하며 신중하게 처리 (예: 마우스다운, 포인터다운)</li>
<li><code>&quot;eager&quot;</code>: 보다 공격적으로 사전 로드를 수행, 더 많은 자원을 사용 가능 (예: 마우스 커서 오버, 스크롤 시 화면 노출 후 중단)</li>
<li><code>&quot;moderate&quot;</code> : eager와 conservative 사이 값. (예: 스크롤 시 화면 노출 후 마우스 커서 이동)</li>
</ul>
</li>
<li><strong>활용 상황</strong>: 사용자 경험이 특히 중요한 경우 <code>&quot;eager&quot;</code>를 사용할 수 있지만, 장치 성능과 네트워크 상황을 고려해야 합니다.</li>
</ul>
<h2 id="5-speculation-rules의-장점과-단점">
  5. Speculation Rules의 장점과 단점
  <a class="heading-link" href="#5-speculation-rules%ec%9d%98-%ec%9e%a5%ec%a0%90%ea%b3%bc-%eb%8b%a8%ec%a0%90">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="장점">
  장점
  <a class="heading-link" href="#%ec%9e%a5%ec%a0%90">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li><strong>빠른 페이지 전환</strong></li>
</ol>
<ul>
<li>사용자가 이동할 가능성이 높은 페이지를 미리 랜더링해 둔다면, <em>즉각적인 반응성</em>을 제공할 수 있습니다.</li>
</ul>
<ol start="2">
<li><strong>정교한 제어</strong></li>
</ol>
<ul>
<li>JSON 형태의 설정을 통해 어떤 리소스를 얼마만큼 사전에 불러올지 세부적으로 결정할 수 있습니다.</li>
</ul>
<ol start="3">
<li><strong>향상된 UX</strong></li>
</ol>
<ul>
<li>페이지 전환 시 대기 시간이 현저히 감소해 사용자 만족도 상승</li>
</ul>
<h3 id="단점">
  단점
  <a class="heading-link" href="#%eb%8b%a8%ec%a0%90">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li><strong>호환성 이슈</strong></li>
</ol>
<ul>
<li>모든 브라우저가 지원하지 않습니다. 크롬이 먼저 도입했으며, 다른 브라우저는 도입 계획이 다릅니다.</li>
</ul>
<ol start="2">
<li><strong>과도한 리소스 낭비</strong></li>
</ol>
<ul>
<li>예측이 빗나갔을 때 불필요한 리소스를 미리 로드해 네트워크 트래픽과 메모리 사용량이 증가할 수 있습니다.</li>
</ul>
<ol start="3">
<li><strong>보안, 개인정보 문제</strong></li>
</ol>
<ul>
<li>사전 로딩 시 쿠키나 인증 데이터가 의도치 않게 전송될 수 있습니다. 민감 정보가 없는 리소스 위주로 시도하는 것이 좋습니다.</li>
</ul>
<h2 id="6-브라우저-호환성과-주의-사항">
  6. 브라우저 호환성과 주의 사항
  <a class="heading-link" href="#6-%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80-%ed%98%b8%ed%99%98%ec%84%b1%ea%b3%bc-%ec%a3%bc%ec%9d%98-%ec%82%ac%ed%95%ad">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Speculation Rules는 아직 크롬 계열 브라우저 중심으로만 비교적 실험적으로 지원됩니다.<br>
따라서 프로덕션 환경에서 전면적으로 적용하기보다는, 아래와 같은 단계를 거치는 것이 좋습니다:</p>
<ol>
<li><strong>Feature Detection</strong>
<ul>
<li>사용자 브라우저가 Speculation Rules를 지원하는지 판별하고, 미지원 시 기존 방식(예: <code>rel=&quot;prefetch&quot;</code>)으로 대체</li>
</ul>
</li>
<li><strong>점진적 적용 (Progressive Enhancement)</strong>
<ul>
<li>일부분의 페이지나 리소스에서 먼저 Speculation Rules를 적용해 효과를 측정</li>
</ul>
</li>
<li><strong>효과 측정 &amp; 모니터링</strong>
<ul>
<li>실제 페이지 전환 속도, 사용자 이동 경로, 리소스 사용량 등을 분석해 Speculation Rules의 효용성을 확인</li>
</ul>
</li>
</ol>
<h2 id="7-사용-예시">
  7. 사용 예시
  <a class="heading-link" href="#7-%ec%82%ac%ec%9a%a9-%ec%98%88%ec%8b%9c">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ko&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Speculation Rules Demo<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Speculation Rules 테스트<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    아래 버튼을 누르면 다음 페이지로 이동합니다. 다만, 사전에 페이지를
</span></span><span class="line"><span class="cl">    미리 렌더링해 두어, 클릭 즉시 새 페이지가 뜰 것입니다.
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&#34;location.href=&#39;next.html&#39;&#34;</span><span class="p">&gt;</span>다음 페이지로 이동<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- Speculation Rules Script --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;speculationrules&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;prerender&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;source&#34;</span><span class="o">:</span> <span class="s2">&#34;list&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;urls&#34;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;https://example.com/next.html&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;prefetch&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;source&#34;</span><span class="o">:</span> <span class="s2">&#34;list&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;urls&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;/users&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;/info&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;eagerness&#34;</span><span class="o">:</span> <span class="s2">&#34;eager&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>위 예시는 다음 페이지 next.html을 미리 렌더링(prerender) 해 두고, 필요한 JS/CSS 파일은 미리 다운로드(prefetch)하며, eagerness를 &ldquo;eager&quot;로 설정해 보다 적극적으로 자원을 활용하도록 설정합니다.</p>
<h2 id="8-문서가-prerendering인지-확인하는-방법">
  8. 문서가 prerendering인지 확인하는 방법
  <a class="heading-link" href="#8-%eb%ac%b8%ec%84%9c%ea%b0%80-prerendering%ec%9d%b8%ec%a7%80-%ed%99%95%ec%9d%b8%ed%95%98%eb%8a%94-%eb%b0%a9%eb%b2%95">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>문서의 통계를 위해서 자바스크립트가 실행을 제한 해야 할 경우가 있을 수도 있습니다.
이런 경우에는 아래와 같은 스크립트를 통해서 제어가 가능 합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">prerendering</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;prerenderingchange&#34;</span><span class="p">,</span> <span class="nx">main</span><span class="p">,</span> <span class="p">{</span> <span class="nx">once</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">main</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&#34;Timeout Finished&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="9-참고">
  9. 참고
  <a class="heading-link" href="#9-%ec%b0%b8%ea%b3%a0">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel/prefetch"  class="external-link" target="_blank" rel="noopener">MDN: Resource Hint 사양</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script/type/speculationrules"  class="external-link" target="_blank" rel="noopener">MDN: Speculation Rules 사양</a></li>
<li><a href="https://www.youtube.com/watch?v=LEF4UaM5m4U"  class="external-link" target="_blank" rel="noopener">YouTube: Speculation Rules 소개</a></li>
<li><a href="https://uxify.com/blog/post/speculation-rules-api"  class="external-link" target="_blank" rel="noopener">How to Use Speculation Rules API to Load Web Pages Instantly</a></li>
</ul>
      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2025
     News reporter 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
